"use strict";var myAlbumController=angular.module("myAlbumController",["ngResource"]);myAlbumController.controller("myAlbumController",["$rootScope","$scope","$location","$log","$http","player","aliceBootbox",function(e,t,n,r,i,s,o){e.location="myAlbum";i.post("/getMyAlbums",{}).success(function(e,n,r,i){t.myAlbums=e;if(e&&e.length>0){t.currentAlbum=e[0];t.getSongByAlbum(t.currentAlbum)}});t.selectAlbum=function(e){t.currentAlbum=e;t.getSongByAlbum(e)};t.updatePlayMethod=function(e){if(e!==t.currentPlaylist.playingMethod){t.currentPlaylist.playingMethod=e}};t.getSongByAlbum=function(e){i.post("/getSongByAlbum",{album:e.album}).success(function(e,n,r,i){t.currentPlaylist={};t.currentPlaylist.songs=e;t.currentPlaylist.playingMethod="arrow-right";s.init(t)})};t.play=function(){s.play();t.playing=s.playing};t.stop=function(){s.stop();t.playing=s.playing};t.pause=function(){s.pause();t.playing=s.playing};t.playPrev=function(){s.playPrev();t.playing=s.playing};t.playNext=function(){s.playNext();t.playing=s.playing};t.wait=function(e){if(e){$("#loading_modal").modal("show")}else{$("#loading_modal").modal("hide")}};t.error=function(e){o.dialog(e,"Loading error !!")};t.curentPlayingMinutes=function(){if(s.currentScope.progress>0){return t.convertToMinute(parseInt(s.currentScope.progress))}else{return"00:00"}};t.curentDurationMinutes=function(){if(s.currentDuration()>0){return t.convertToMinute(s.currentDuration())}else{return"00:00"}};t.convertToMinute=function(e){if(e&&e>0){var t=Math.floor(e/60);var n=e-t*60;if(t<10){t="0"+t.toString()}if(n<10){n="0"+n.toString()}return t+":"+n}else{return"00:00"}};t.viewSongDetails=function(e){e.showDetails=!e.showDetails;return e.showDetails};t.isActive=function(e){if(s.currentSongIndex==e){return"active"}};t.playThisSong=function(e){if(s.currentSongIndex!=e){s.playAt(e);t.playing=s.playing;t.progress=s.currentTime()}}}])